# This file was generated by the Gradle 'init' task.
# https://docs.gradle.org/current/userguide/version_catalogs.html#sec::toml-dependencies-format

[versions]
kotlin = "2.2.20"
kotlinx-serialization-json = "1.7.3"
kotlinx-coroutines = "1.10.2"
kotlinx-datetime = "0.4.1"
ktor = "3.3.3"
exposed = "1.0.0-rc-3"
jooq = "3.20.10"
flyway = "11.1.0"
testcontainers = "1.20.4"
studer-jooq = "10.2"
koin-bom = "4.1.1"
postgresql = "42.7.4"
aws-sdk-kotlin = "1.5.122"

# Testing
mockk = "1.13.12"
junit-jupiter = "5.12.1"


[libraries]
kotlin-gradle-plugin = { module = "org.jetbrains.kotlin:kotlin-gradle-plugin", version.ref = "kotlin" }

# Ktor Server
ktor-server-core = { module = "io.ktor:ktor-server-core", version.ref = "ktor" }
ktor-server-netty = { module = "io.ktor:ktor-server-netty", version.ref = "ktor" }
ktor-server-content-negotiation = { module = "io.ktor:ktor-server-content-negotiation", version.ref = "ktor" }
ktor-serialization-kotlinx-json = { module = "io.ktor:ktor-serialization-kotlinx-json", version.ref = "ktor" }
ktor-server-request-validation = { module = "io.ktor:ktor-server-request-validation", version.ref = "ktor" }
ktor-server-swagger = { module = "io.ktor:ktor-server-swagger", version.ref = "ktor" }
ktor-server-status-pages = { module = "io.ktor:ktor-server-status-pages", version.ref = "ktor" }
ktor-server-call-logging = { module = "io.ktor:ktor-server-call-logging", version.ref = "ktor" }
ktor-server-openapi = { module = "io.ktor:ktor-server-openapi", version.ref = "ktor" }

# Kotlinx
kotlinx-coroutines-core = { module = "org.jetbrains.kotlinx:kotlinx-coroutines-core", version.ref = "kotlinx-coroutines" }
kotlinx-datetime = { module = "org.jetbrains.kotlinx:kotlinx-datetime", version.ref = "kotlinx-datetime" }

# Logging
kotlin-logging-jvm = { module = "io.github.oshai:kotlin-logging-jvm", version = "7.0.3" }
logstash-logback-encoder = { module = "net.logstash.logback:logstash-logback-encoder", version = "8.0" }
logback-classic = { module = "ch.qos.logback:logback-classic", version = "1.5.25" }

# Exposed - database interactions
exposed-core = { module = "org.jetbrains.exposed:exposed-core", version.ref = "exposed" }
exposed-jdbc = { module = "org.jetbrains.exposed:exposed-jdbc", version.ref = "exposed" }
exposed-datetime = { module = "org.jetbrains.exposed:exposed-kotlin-datetime", version.ref = "exposed" }

# jOOQ - database interactions
jooq = { module = "org.jooq:jooq", version.ref = "jooq" }
jooq-codegen = { module = "org.jooq:jooq-codegen", version.ref = "jooq" }
jooq-meta = { module = "org.jooq:jooq-meta", version.ref = "jooq" }

# Flyway - database migrations
flyway-core = { module = "org.flywaydb:flyway-core", version.ref = "flyway" }
flyway-database-postgresql = { module = "org.flywaydb:flyway-database-postgresql", version.ref = "flyway" }

# Testcontainers
testcontainers-postgresql = { module = "org.testcontainers:postgresql", version.ref = "testcontainers" }

# Koin
koin-bom = { module = "io.insert-koin:koin-bom", version.ref = "koin-bom" }
koin-core = { module = "io.insert-koin:koin-core" }
koin-ktor = { module = "io.insert-koin:koin-ktor" }
koin-test = { module = "io.insert-koin:koin-test" }

# Configuration
dotenv-kotlin = { module = "io.github.cdimascio:dotenv-kotlin", version = "6.4.1" }

# Postgres
postgresql-driver = { module = "org.postgresql:postgresql", version.ref = "postgresql" }
hikari = { module = "com.zaxxer:HikariCP", version = "6.2.1" }

# JSON
kotlinx-serialization-json = { module = "org.jetbrains.kotlinx:kotlinx-serialization-json", version.ref = "kotlinx-serialization-json" }

# AWS
aws-bom = { group = "aws.sdk.kotlin", name = "bom", version.ref = "aws-sdk-kotlin" }
aws-sns = { group = "aws.sdk.kotlin", name = "sns" }
aws-sqs = { group = "aws.sdk.kotlin", name = "sqs" }

# Testing
mockk = { module = "io.mockk:mockk", version.ref = "mockk" }
kotlinx-coroutines-test = { module = "org.jetbrains.kotlinx:kotlinx-coroutines-test", version.ref = "kotlinx-coroutines" }
junit-jupiter = { module = "org.junit.jupiter:junit-jupiter", version.ref = "junit-jupiter" }

[plugins]
kotlin-serialization = { id = "org.jetbrains.kotlin.plugin.serialization", version.ref = "kotlin" }
flyway = { id = "org.flywaydb.flyway", version.ref = "flyway" }
studer-jooq = { id = "nu.studer.jooq", version.ref = "studer-jooq" }

[bundles]
# Group them so you only have to add one line to your build file
ktor-server = [
    "ktor-server-core",
    "ktor-server-netty",
    "ktor-server-content-negotiation",
    "ktor-serialization-kotlinx-json",
    "ktor-server-request-validation",
    "ktor-server-swagger",
    "ktor-server-status-pages",
    "ktor-server-call-logging"
]

exposed = [
    "exposed-core",
    "exposed-jdbc",
    "exposed-datetime"
]

logging = [
    "kotlin-logging-jvm",
    "logstash-logback-encoder"
]

postgres = [
    "postgresql-driver",
    "hikari",
]

test = [
    "junit-jupiter",
    "mockk",
    "kotlinx-coroutines-test"
]
